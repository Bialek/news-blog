{"version":3,"sources":["logo.png","context/index.js","utils/constants.js","components/header/index.jsx","view/home/index.jsx","view/admin-dashboard/index.jsx","components/admin-menu-wrapper/index.jsx","services/user/index.js","view/log-in/index.jsx","services/news/index.js","components/loader/index.jsx","view/admin-news-list/index.jsx","components/news-form/index.jsx","view/admin-edit-news/index.jsx","view/admin-add-news/index.jsx","components/news-miniature/index.jsx","view/news-list/index.jsx","services/comment/index.js","components/comments-list/index.jsx","view/single-news/index.jsx","services/dictionary/index.js","App.jsx","index.jsx"],"names":["StoreContext","createContext","ROLE_ADMIN","BASE_URL","STORAGE_TOKEN_KEY","Header","useState","isMenuActive","setIsMenuActive","useContext","storeData","setStoreData","className","role","aria-label","to","exact","src","Logo","width","height","alt","onClick","aria-expanded","aria-hidden","activeClassName","userData","roles","includes","username","localStorage","removeItem","prevData","undefined","Home","dictionaryData","map","category","id","name","AdminDashboard","AdminMenuWrapper","props","children","payload","Promise","resolve","reject","fetch","method","headers","body","JSON","stringify","then","response","a","status","json","catch","err","LogIn","message","setMessage","history","useHistory","onSubmit","event","preventDefault","target","login","value","password","UserService","logIn","setItem","accessToken","push","error","type","text","placeholder","getItem","categoryId","url","concat","Articles","size","AdminNewsList","isLoading","setIsLoading","collection","setCollection","setError","useEffect","NewsService","getAll","statusText","finally","news","title","articleId","delete","publish","NewsForm","formData","miniatureContent","miniatureColor","miniatureSize","miniatureSubtitle","miniatureTitle","subtitle","setFormData","content","EditorState","createWithContent","convertFromRaw","parse","createEmpty","editorState","setEditorState","convertedContent","setConvertedContent","onChangeHandler","fieldName","Object","entries","reduce","newPayload","key","convertToRaw","getCurrentContent","parseInt","request","onChange","e","required","maxLength","onEditorStateChange","state","wrapperClassName","editorClassName","toolbarClassName","dangerouslySetInnerHTML","__html","draftToHtml","AdminEditNews","useParams","data","setData","getByIdForEdit","update","AdminAddNews","create","NewsMiniature","miniatureIsVertical","newsId","img","NewsList","getAllNewest","renderedArticles","useMemo","res","el","i","length","groupedNews","gridTemplate","string","style","gridTemplateColumns","display","CommentsList","CommentService","newCommentInput","useRef","comment","author","ref","current","SingleNews","setContent","getById","parserContent","authorName","App","DictionaryService","dictObject","dictionary","Provider","path","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.bffec782.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.1561cb7e.png\";","import { createContext } from \"react\";\r\n\r\nexport const StoreContext = createContext(null);\r\n","export const ROLE_ADMIN = \"ROLE_ADMIN\";\r\nexport const ROLE_MODERATOR = \"ROLE_MODERATOR\";\r\n\r\nexport const BASE_URL =\r\n  process.env.NODE_ENV === \"development\" ? \"http://localhost:8080\" : \"\";\r\nexport const STORAGE_TOKEN_KEY = \"token\";\r\n","import React, { useState, useContext } from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport Logo from \"logo.png\";\r\nimport { StoreContext } from \"context\";\r\nimport { ROLE_ADMIN, STORAGE_TOKEN_KEY } from \"utils/constants\";\r\n\r\nexport default function Header() {\r\n  const [isMenuActive, setIsMenuActive] = useState(false);\r\n  const { storeData, setStoreData } = useContext(StoreContext);\r\n\r\n  const signOutHandler = () => {\r\n    localStorage.removeItem(STORAGE_TOKEN_KEY);\r\n    setStoreData((prevData) => ({ ...prevData, userData: undefined }));\r\n  };\r\n  return (\r\n    <nav\r\n      className=\"navbar is-info\"\r\n      role=\"navigation\"\r\n      aria-label=\"main navigation\"\r\n    >\r\n      <div className=\"container\">\r\n        <div className=\"navbar-brand\">\r\n          <NavLink className=\"navbar-item\" to=\"/\" exact={true}>\r\n            <img src={Logo} width=\"112\" height=\"28\" alt=\"logo\" />\r\n          </NavLink>\r\n\r\n          <span\r\n            onClick={() => setIsMenuActive(!isMenuActive)}\r\n            role=\"button\"\r\n            className=\"navbar-burger burger\"\r\n            aria-label=\"menu\"\r\n            aria-expanded=\"false\"\r\n          >\r\n            <span aria-hidden=\"true\"></span>\r\n            <span aria-hidden=\"true\"></span>\r\n            <span aria-hidden=\"true\"></span>\r\n          </span>\r\n        </div>\r\n\r\n        <div className={`navbar-menu  ${isMenuActive && \"is-active\"}`}>\r\n          <div className=\"navbar-start\">\r\n            <NavLink\r\n              className=\"navbar-item\"\r\n              activeClassName=\"is-active\"\r\n              to=\"/\"\r\n              exact={true}\r\n            >\r\n              Home\r\n            </NavLink>\r\n\r\n            <NavLink\r\n              className=\"navbar-item\"\r\n              activeClassName=\"is-active\"\r\n              to=\"/news-list\"\r\n            >\r\n              News\r\n            </NavLink>\r\n\r\n            {storeData.userData &&\r\n              storeData.userData.roles.includes(ROLE_ADMIN) && (\r\n                <NavLink\r\n                  className=\"navbar-item\"\r\n                  activeClassName=\"is-active\"\r\n                  to=\"/admin/dashboard\"\r\n                >\r\n                  Admin\r\n                </NavLink>\r\n              )}\r\n          </div>\r\n\r\n          <div className=\"navbar-end\">\r\n            <div className=\"navbar-item\">\r\n              <div className=\"buttons\">\r\n                {storeData.userData ? (\r\n                  <>\r\n                    <div className=\"media-content mr-3\">\r\n                      <p className=\"title is-4 has-text-white\">{`${storeData.userData.username}`}</p>\r\n                    </div>\r\n                    <div onClick={signOutHandler}>\r\n                      <NavLink className=\"button is-primary\" to=\"/\">\r\n                        <strong>Sing out</strong>\r\n                      </NavLink>\r\n                    </div>\r\n                  </>\r\n                ) : (\r\n                  <NavLink className=\"button is-light\" to=\"/log-in\">\r\n                    Log in\r\n                  </NavLink>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </nav>\r\n  );\r\n}\r\n","import { StoreContext } from \"context\";\r\nimport React, { useContext } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport default function Home() {\r\n  const { storeData } = useContext(StoreContext);\r\n\r\n  return (\r\n    <section className=\"hero is-info is-fullheight-with-navbar\">\r\n      <div className=\"hero-body\">\r\n        <div className=\"container\">\r\n          <h1 className=\"title\">Hello on News Blog</h1>\r\n          <h2 className=\"subtitle\">Web app blog with admin</h2>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"hero-foot\">\r\n        <nav className=\"tabs is-boxed is-fullwidth\">\r\n          <div className=\"container\">\r\n            <ul>\r\n              {storeData &&\r\n                storeData.dictionaryData &&\r\n                storeData.dictionaryData[\"news_category\"] &&\r\n                storeData.dictionaryData[\"news_category\"].map((category) => (\r\n                  <li>\r\n                    <Link to={`/news-list/${category.id}`}>\r\n                      {category.name}\r\n                    </Link>\r\n                  </li>\r\n                ))}\r\n            </ul>\r\n          </div>\r\n        </nav>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n","import React from \"react\";\r\n\r\nexport default function AdminDashboard() {\r\n  return (\r\n    <section className=\"hero is-danger is-fullheight-with-navbar\">\r\n      <div className=\"hero-body\">\r\n        <h1 className=\"title\">Admin dashboard</h1>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\nexport default function AdminMenuWrapper(props) {\r\n  return (\r\n    <div className=\"columns\">\r\n      <div className=\"column is-2\">\r\n        <aside className=\"menu mt-3 ml-3\">\r\n          <p className=\"menu-label\">Administration</p>\r\n          <ul className=\"menu-list\">\r\n            <li>\r\n              <NavLink\r\n                activeClassName=\"is-active\"\r\n                to=\"/admin/dashboard\"\r\n                exact={true}\r\n              >\r\n                Dashboard\r\n              </NavLink>\r\n            </li>\r\n            <li>\r\n              <NavLink\r\n                activeClassName=\"is-active\"\r\n                to=\"/admin/news-list\"\r\n                exact={true}\r\n              >\r\n                News\r\n              </NavLink>\r\n            </li>\r\n          </ul>\r\n        </aside>\r\n      </div>\r\n      <div className=\"column\">{props.children}</div>\r\n    </div>\r\n  );\r\n}\r\n","import { BASE_URL } from \"utils/constants\";\r\n\r\nclass UserService {\r\n  logIn(payload) {\r\n    return new Promise((resolve, reject) => {\r\n      fetch(`${BASE_URL}/api/auth/signIn`, {\r\n        method: \"post\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify(payload),\r\n      })\r\n        .then(async (response) => {\r\n          if (response.status === 200) {\r\n            resolve(await response.json());\r\n          } else {\r\n            reject(await response.json());\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          reject(err);\r\n        });\r\n    });\r\n  }\r\n}\r\n\r\nexport default new UserService();\r\n","import React, { useState, useContext } from \"react\";\r\nimport UserService from \"services/user\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { StoreContext } from \"context\";\r\nimport { STORAGE_TOKEN_KEY } from \"utils/constants\";\r\n\r\nexport default function LogIn() {\r\n  const [message, setMessage] = useState(undefined);\r\n  let history = useHistory();\r\n  const { setStoreData } = useContext(StoreContext);\r\n\r\n  function onSubmitHandler(event) {\r\n    event.preventDefault();\r\n    setMessage(undefined);\r\n\r\n    const payload = {\r\n      username: event.target.login.value,\r\n      password: event.target.password.value,\r\n    };\r\n\r\n    UserService.logIn(payload)\r\n      .then((response) => {\r\n        localStorage.setItem(STORAGE_TOKEN_KEY, response.accessToken);\r\n        setStoreData((prevData) => ({ ...prevData, userData: response }));\r\n        history.push(\"/\");\r\n      })\r\n      .catch((error) => {\r\n        setMessage({ type: \"danger\", text: `Error! ${error.message}` });\r\n      });\r\n  }\r\n\r\n  return (\r\n    <section className=\"section\">\r\n      <div className=\"container mt-3\">\r\n        <h1 className=\"title\">Log in page</h1>\r\n        <form onSubmit={onSubmitHandler}>\r\n          <div className=\"field\">\r\n            <p className=\"control has-icons-left has-icons-right\">\r\n              <input\r\n                className=\"input\"\r\n                name=\"login\"\r\n                type=\"text\"\r\n                placeholder=\"Login\"\r\n              />\r\n              <span className=\"icon is-small is-left\">\r\n                <i className=\"fas fa-envelope\"></i>\r\n              </span>\r\n            </p>\r\n          </div>\r\n          <div className=\"field\">\r\n            <p className=\"control has-icons-left\">\r\n              <input\r\n                className=\"input\"\r\n                name=\"password\"\r\n                type=\"password\"\r\n                placeholder=\"Password\"\r\n              />\r\n              <span className=\"icon is-small is-left\">\r\n                <i className=\"fas fa-lock\"></i>\r\n              </span>\r\n            </p>\r\n          </div>\r\n          <div className=\"field\">\r\n            <p className=\"control\">\r\n              <button className=\"button is-success\">Login</button>\r\n            </p>\r\n          </div>\r\n        </form>\r\n      </div>\r\n      {message && (\r\n        <article className={`message is-${message.type} mt-6`}>\r\n          <div className=\"message-body\">{message.text}</div>\r\n        </article>\r\n      )}\r\n    </section>\r\n  );\r\n}\r\n","import { BASE_URL, STORAGE_TOKEN_KEY } from \"utils/constants\";\r\n\r\nclass NewsService {\r\n  getAll() {\r\n    return new Promise((resolve, reject) => {\r\n      fetch(`${BASE_URL}/api/news/getAll`, {\r\n        headers: { \"x-access-token\": localStorage.getItem(STORAGE_TOKEN_KEY) },\r\n      })\r\n        .then(async (response) => {\r\n          if (response.status !== 200) {\r\n            reject(response);\r\n          } else {\r\n            resolve(await response.json());\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          reject(err);\r\n        });\r\n    });\r\n  }\r\n\r\n  getById(id) {\r\n    return new Promise((resolve, reject) => {\r\n      fetch(`${BASE_URL}/api/news/getById/${id}`, {\r\n        headers: { \"x-access-token\": localStorage.getItem(STORAGE_TOKEN_KEY) },\r\n      })\r\n        .then(async (response) => {\r\n          if (response.status !== 200) {\r\n            reject(response);\r\n          } else {\r\n            resolve(await response.json());\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          reject(err);\r\n        });\r\n    });\r\n  }\r\n\r\n  getByIdForEdit(id) {\r\n    return new Promise((resolve, reject) => {\r\n      fetch(`${BASE_URL}/api/news/getByIdForEdit/${id}`, {\r\n        headers: { \"x-access-token\": localStorage.getItem(STORAGE_TOKEN_KEY) },\r\n      })\r\n        .then(async (response) => {\r\n          if (response.status !== 200) {\r\n            reject(response);\r\n          } else {\r\n            resolve(await response.json());\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          reject(err);\r\n        });\r\n    });\r\n  }\r\n\r\n  create(payload) {\r\n    return new Promise((resolve, reject) => {\r\n      fetch(`${BASE_URL}/api/news/create`, {\r\n        method: \"post\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          \"x-access-token\": localStorage.getItem(STORAGE_TOKEN_KEY),\r\n        },\r\n        body: JSON.stringify(payload),\r\n      })\r\n        .then((response) => {\r\n          if (response.status === 200) {\r\n            resolve();\r\n          } else {\r\n            reject(response.message);\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          reject(err.message);\r\n        });\r\n    });\r\n  }\r\n\r\n  update(payload) {\r\n    return new Promise((resolve, reject) => {\r\n      fetch(`${BASE_URL}/api/news/edit`, {\r\n        method: \"put\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          \"x-access-token\": localStorage.getItem(STORAGE_TOKEN_KEY),\r\n        },\r\n        body: JSON.stringify(payload),\r\n      })\r\n        .then((response) => {\r\n          if (response.status === 200) {\r\n            resolve();\r\n          } else {\r\n            reject(response.message);\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          reject(err.message);\r\n        });\r\n    });\r\n  }\r\n\r\n  delete(id) {\r\n    return new Promise((resolve, reject) => {\r\n      fetch(`${BASE_URL}/api/news/delete/${id}`, {\r\n        method: \"delete\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          \"x-access-token\": localStorage.getItem(STORAGE_TOKEN_KEY),\r\n        },\r\n      })\r\n        .then(async (response) => {\r\n          if (response.status !== 200) {\r\n            reject(response);\r\n          } else {\r\n            resolve(await response.json());\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          reject(err);\r\n        });\r\n    });\r\n  }\r\n\r\n  publish(id) {\r\n    return new Promise((resolve, reject) => {\r\n      fetch(`${BASE_URL}/api/news/publish/${id}`, {\r\n        method: \"put\",\r\n        headers: {\r\n          \"x-access-token\": localStorage.getItem(STORAGE_TOKEN_KEY),\r\n        },\r\n      })\r\n        .then(async (response) => {\r\n          if (response.status !== 200) {\r\n            reject(response);\r\n          } else {\r\n            resolve(await response.json());\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          reject(err);\r\n        });\r\n    });\r\n  }\r\n\r\n  getAllNewest(categoryId) {\r\n    let url = `${BASE_URL}/api/news/getAllNewest`;\r\n    if (categoryId) {\r\n      url = url.concat(`/${categoryId}`);\r\n    }\r\n\r\n    return new Promise((resolve, reject) => {\r\n      fetch(url)\r\n        .then(async (response) => {\r\n          if (response.status !== 200) {\r\n            reject(response);\r\n          } else {\r\n            resolve(await response.json());\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          reject(err);\r\n        });\r\n    });\r\n  }\r\n}\r\n\r\nexport default new NewsService();\r\n","import React from \"react\";\r\nimport \"./styles.scss\";\r\n\r\nexport default function Articles(props) {\r\n  return (\r\n    <div className={`parent ${props.size}`}>\r\n      <div className=\"child\"></div>\r\n      <div className=\"child\"></div>\r\n      <div className=\"child\"></div>\r\n      <div className=\"child\"></div>\r\n      <div className=\"child\"></div>\r\n      <div className=\"child\"></div>\r\n      <div className=\"child\"></div>\r\n      <div className=\"child\"></div>\r\n      <div className=\"child\"></div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useEffect, useState } from \"react\";\r\nimport NewsService from \"services/news/index\";\r\nimport Loader from \"components/loader\";\r\nimport \"./styles.scss\";\r\nimport { useHistory } from \"react-router\";\r\n\r\nexport default function AdminNewsList() {\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [collection, setCollection] = useState(null);\r\n  const [error, setError] = useState(null);\r\n  let history = useHistory();\r\n\r\n  useEffect(() => {\r\n    if (collection === null) {\r\n      setIsLoading(true);\r\n      NewsService.getAll()\r\n        .then((response) => {\r\n          setCollection(response);\r\n        })\r\n        .catch((error) => {\r\n          setError(`Error ${error.status} ${error.statusText}`);\r\n        })\r\n        .finally(() => setIsLoading(false));\r\n    }\r\n  }, [collection]);\r\n\r\n  function onClickDeleteHandler(articleId) {\r\n    setIsLoading(true);\r\n    NewsService.delete(articleId)\r\n      .then(() => {\r\n        setCollection(null);\r\n      })\r\n      .catch((error) => {\r\n        setError(`Error ${error.status} ${error.statusText}`);\r\n      });\r\n  }\r\n\r\n  function onClickPublishHandler(articleId) {\r\n    setIsLoading(true);\r\n    NewsService.publish(articleId)\r\n      .catch((error) => {\r\n        setError(`Error ${error.status} ${error.statusText}`);\r\n      })\r\n      .finally(() => setIsLoading(false));\r\n  }\r\n\r\n  return (\r\n    <div className=\"container mt-3\">\r\n      <div>\r\n        <div className=\"container\">\r\n          <h1 className=\"title\">News list</h1>\r\n          <button\r\n            className=\"button news-list__add-btn\"\r\n            onClick={() => history.push(\"/admin/add-news\")}\r\n          >\r\n            Add article\r\n            <i className=\"fas fa-plus\"></i>\r\n          </button>\r\n          {isLoading && <Loader />}\r\n          {error && !isLoading && <div>{error}</div>}\r\n          {collection && !isLoading && (\r\n            <div className=\"news-list\">\r\n              {collection.map((news) => (\r\n                <div className=\"news-list__row\" key={news.id}>\r\n                  <div>{news.title}</div>\r\n                  <div\r\n                    className=\"news-list__table-btn\"\r\n                    onClick={() => history.push(`/admin/edit-news/${news.id}`)}\r\n                  >\r\n                    <i className=\"fas fa-edit\"></i>\r\n                  </div>\r\n                  <div\r\n                    className=\"news-list__table-btn\"\r\n                    onClick={() => onClickDeleteHandler(news.id)}\r\n                  >\r\n                    <i className=\"fas fa-trash\"></i>\r\n                  </div>\r\n                  <div\r\n                    className=\"news-list__table-btn\"\r\n                    onClick={() => onClickPublishHandler(news.id)}\r\n                  >\r\n                    <i className=\"far fa-newspaper\"></i>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useContext, useState } from \"react\";\r\nimport { useHistory } from \"react-router\";\r\nimport { EditorState, convertToRaw, convertFromRaw } from \"draft-js\";\r\nimport { Editor } from \"react-draft-wysiwyg\";\r\nimport draftToHtml from \"draftjs-to-html\";\r\nimport \"react-draft-wysiwyg/dist/react-draft-wysiwyg.css\";\r\nimport \"./styles.scss\";\r\nimport { StoreContext } from \"context\";\r\n\r\nexport default function NewsForm(props) {\r\n  const { storeData } = useContext(StoreContext);\r\n\r\n  const history = useHistory();\r\n  const [formData, setFormData] = useState(\r\n    props.formData ?? {\r\n      miniatureContent: \"\",\r\n      miniatureColor: \"\",\r\n      categoryId: storeData.dictionaryData[\"news_category\"][0].id,\r\n      miniatureSize: \"\",\r\n      miniatureSubtitle: \"\",\r\n      miniatureTitle: \"\",\r\n      subtitle: \"\",\r\n      title: \"\",\r\n    }\r\n  );\r\n\r\n  const [editorState, setEditorState] = useState(\r\n    props.formData && props.formData.content\r\n      ? EditorState.createWithContent(\r\n          convertFromRaw(JSON.parse(props.formData.content))\r\n        )\r\n      : EditorState.createEmpty()\r\n  );\r\n  const [convertedContent, setConvertedContent] = useState(\r\n    props.formData && props.formData.content\r\n      ? JSON.parse(props.formData.content)\r\n      : null\r\n  );\r\n\r\n  const handleEditorChange = (state) => {\r\n    setEditorState(state);\r\n    setConvertedContent(convertToRaw(state.getCurrentContent()));\r\n  };\r\n\r\n  function onChangeHandler(value, fieldName) {\r\n    setFormData({ ...formData, [fieldName]: value });\r\n  }\r\n\r\n  async function onSubmitHandler() {\r\n    const payload = Object.entries(formData).reduce(\r\n      (newPayload, [key, value]) => {\r\n        if (value !== \"\") {\r\n          newPayload[key] = value;\r\n        }\r\n        return newPayload;\r\n      },\r\n      {}\r\n    );\r\n    payload.content = await JSON.stringify(\r\n      convertToRaw(editorState.getCurrentContent())\r\n    );\r\n    payload.categoryId = parseInt(payload.categoryId);\r\n\r\n    props\r\n      .request(payload)\r\n      .then(() => {\r\n        history.push(\"/admin/news-list\");\r\n      })\r\n      .catch((error) => {});\r\n  }\r\n\r\n  return (\r\n    <div className=\"container mt-3 px-3\">\r\n      <div className=\"field\">\r\n        <label className=\"label\">title</label>\r\n        <div className=\"control\">\r\n          <input\r\n            className=\"input\"\r\n            type=\"text\"\r\n            placeholder=\"Text input\"\r\n            value={formData.title}\r\n            onChange={(e) => onChangeHandler(e.target.value, \"title\")}\r\n            required\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"field\">\r\n        <label className=\"label\">subtitle</label>\r\n        <div className=\"control\">\r\n          <input\r\n            className=\"input\"\r\n            type=\"text\"\r\n            placeholder=\"Subtitle\"\r\n            value={formData.subtitle}\r\n            onChange={(e) => onChangeHandler(e.target.value, \"subtitle\")}\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"field\">\r\n        <label className=\"label\">miniature title</label>\r\n        <div className=\"control\">\r\n          <input\r\n            className=\"input\"\r\n            type=\"text\"\r\n            placeholder=\"Text input\"\r\n            value={formData.miniatureTitle}\r\n            onChange={(e) => onChangeHandler(e.target.value, \"miniatureTitle\")}\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"field\">\r\n        <label className=\"label\">miniature subtitle</label>\r\n        <div className=\"control\">\r\n          <input\r\n            className=\"input\"\r\n            type=\"text\"\r\n            placeholder=\"Text input\"\r\n            value={formData.miniatureSubtitle}\r\n            onChange={(e) =>\r\n              onChangeHandler(e.target.value, \"miniatureSubtitle\")\r\n            }\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"field is-grouped is-justify-content-space-between\">\r\n        <div>\r\n          <label className=\"label mr-2 mb-0\">miniature color</label>\r\n          <div className=\"control\">\r\n            <div className=\"select\">\r\n              <select\r\n                className=\"is-primary\"\r\n                value={formData.miniatureColor}\r\n                onChange={(e) =>\r\n                  onChangeHandler(e.target.value, \"miniatureColor\")\r\n                }\r\n              >\r\n                <option>None</option>\r\n                <option className=\"has-text-primary\" value=\"is-primary\">\r\n                  Primary\r\n                </option>\r\n                <option className=\"has-text-link\" value=\"is-link\">\r\n                  Link\r\n                </option>\r\n                <option className=\"has-text-info\" value=\"is-info\">\r\n                  Info\r\n                </option>\r\n                <option className=\"has-text-success\" value=\"is-success\">\r\n                  Success\r\n                </option>\r\n                <option className=\"has-text-warning\" value=\"is-warning\">\r\n                  warning\r\n                </option>\r\n                <option className=\"has-text-danger\" value=\"is-danger\">\r\n                  danger\r\n                </option>\r\n              </select>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"pl-6\">\r\n          <label className=\"label mr-2 mb-0\">miniature size</label>\r\n          <div className=\"control\">\r\n            <div className=\"select\">\r\n              <select\r\n                className=\"is-primary\"\r\n                value={formData.miniatureSize}\r\n                onChange={(e) =>\r\n                  onChangeHandler(e.target.value, \"miniatureSize\")\r\n                }\r\n              >\r\n                <option value={null}></option>\r\n                <option>1</option>\r\n                <option>2</option>\r\n                <option>3</option>\r\n                <option>4</option>\r\n                <option>5</option>\r\n                <option>6</option>\r\n                <option>7</option>\r\n                <option>8</option>\r\n              </select>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"pl-6\">\r\n          <label className=\"label mr-2 mb-0\">category</label>\r\n          <div className=\"control\">\r\n            <div className=\"select\">\r\n              <select\r\n                className=\"is-primary\"\r\n                value={formData.categoryId}\r\n                onChange={(e) => onChangeHandler(e.target.value, \"categoryId\")}\r\n              >\r\n                {storeData.dictionaryData[\"news_category\"].map((category) => (\r\n                  <option key={category.id} value={category.id}>\r\n                    {category.name}\r\n                  </option>\r\n                ))}\r\n              </select>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"field\">\r\n        <label className=\"label\">miniature content</label>\r\n        <div className=\"control\">\r\n          <textarea\r\n            className=\"textarea\"\r\n            name=\"miniatureContent\"\r\n            placeholder=\"Textarea\"\r\n            value={formData.miniatureContent}\r\n            maxLength={512}\r\n            onChange={(e) =>\r\n              onChangeHandler(e.target.value, \"miniatureContent\")\r\n            }\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"field\">\r\n        <Editor\r\n          editorState={editorState}\r\n          onEditorStateChange={handleEditorChange}\r\n          wrapperClassName=\"wrapper-class\"\r\n          editorClassName=\"editor-class\"\r\n          toolbarClassName=\"toolbar-class\"\r\n        />\r\n      </div>\r\n      {convertedContent !== null && (\r\n        <div className=\"field\">\r\n          <div\r\n            className=\"content\"\r\n            dangerouslySetInnerHTML={{\r\n              __html: draftToHtml(convertedContent),\r\n            }}\r\n          />\r\n        </div>\r\n      )}\r\n\r\n      <div className=\"field is-grouped\">\r\n        <div className=\"control\">\r\n          <button className=\"button is-link\" onClick={onSubmitHandler}>\r\n            Submit\r\n          </button>\r\n        </div>\r\n        <div className=\"control\">\r\n          <button\r\n            className=\"button is-link is-light\"\r\n            onClick={() => history.push(\"/admin/news-list\")}\r\n          >\r\n            Cancel\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useEffect, useState } from \"react\";\r\nimport NewsService from \"services/news/index\";\r\nimport NewsForm from \"components/news-form\";\r\nimport Loader from \"components/loader\";\r\nimport { useParams } from \"react-router\";\r\n\r\nexport default function AdminEditNews() {\r\n  const { id } = useParams();\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [data, setData] = useState(null);\r\n  const [error, setError] = useState(null);\r\n\r\n  useEffect(() => {\r\n    setIsLoading(true);\r\n    NewsService.getByIdForEdit(id)\r\n      .then((response) => {\r\n        setData(response);\r\n      })\r\n      .catch((error) => {\r\n        setError(`Error ${error.status} ${error.statusText}`);\r\n      })\r\n      .finally(() => setIsLoading(false));\r\n  }, [id]);\r\n\r\n  return (\r\n    <div className=\"container mt-3 px-3\">\r\n      {isLoading && <Loader />}\r\n      {error && <div>{error}</div>}\r\n      {data && <NewsForm request={NewsService.update} formData={data} />}\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport NewsService from \"services/news/index\";\r\nimport NewsForm from \"components/news-form\";\r\n\r\nexport default function AdminAddNews() {\r\n  return (\r\n    <div className=\"container mt-3 px-3\">\r\n      <NewsForm request={NewsService.create} />\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport \"./styles.scss\";\r\n\r\nexport default function NewsMiniature({ news }) {\r\n  const history = useHistory();\r\n\r\n  function onClickHandler() {\r\n    history.push(`/news/${news.newsId}`);\r\n  }\r\n\r\n  return (\r\n    <div\r\n      className={`tile is-parent ${\r\n        news.miniatureIsVertical ? \"is-vertical\" : \"\"\r\n      }`}\r\n      onClick={onClickHandler}\r\n    >\r\n      <article\r\n        className={`tile is-child box ${\r\n          news.miniatureColor ? `notification ${news.miniatureColor}` : \"\"\r\n        }`}\r\n      >\r\n        <p className=\"title\">{news.miniatureTitle}</p>\r\n        <p className=\"subtitle\">{news.miniatureSubtitle}</p>\r\n        {news.img && (\r\n          <figure className=\"image is-4by3\">\r\n            <img src={news.img} alt={news.miniatureTitle} />\r\n          </figure>\r\n        )}\r\n        {news.miniatureContent && (\r\n          <div className=\"content\">{news.miniatureContent}</div>\r\n        )}\r\n      </article>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useEffect, useState, useMemo } from \"react\";\r\nimport NewsService from \"services/news/index\";\r\n\r\nimport Loader from \"components/loader\";\r\nimport NewsMiniature from \"components/news-miniature\";\r\nimport { useParams } from \"react-router\";\r\n\r\nexport default function NewsList() {\r\n  const { categoryId } = useParams();\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [collection, setCollection] = useState(null);\r\n  const [error, setError] = useState(null);\r\n\r\n  useEffect(() => {\r\n    NewsService.getAllNewest(categoryId)\r\n      .then((response) => {\r\n        setCollection(response);\r\n      })\r\n      .catch((error) => {\r\n        setError(`Error ${error.status} ${error.statusText}`);\r\n      })\r\n      .finally(() => setIsLoading(false));\r\n  }, [categoryId]);\r\n\r\n  const renderedArticles = useMemo(() => {\r\n    if (collection) {\r\n      const groupedCollection = collection.reduce((res, el, i) => {\r\n        if (i % 3 === 0) {\r\n          res[res.length] = [el];\r\n        } else {\r\n          res[res.length - 1] = [...res[res.length - 1], el];\r\n        }\r\n        return res;\r\n      }, []);\r\n      return groupedCollection.map((groupedNews) => {\r\n        const gridTemplate = groupedNews.reduce(\r\n          (string, news) => string.concat(` ${news.miniatureSize ?? 3}fr`),\r\n          \"\"\r\n        );\r\n        return (\r\n          <div\r\n            key={`group-${groupedNews[0].newsId}`}\r\n            style={{\r\n              gridTemplateColumns: `${gridTemplate}`,\r\n              display: \"grid\",\r\n            }}\r\n          >\r\n            {groupedNews.map((news) => (\r\n              <NewsMiniature\r\n                key={`${news.newsId}-${news.miniatureTitle}`}\r\n                news={news}\r\n              />\r\n            ))}\r\n          </div>\r\n        );\r\n      });\r\n    } else {\r\n      return <div>Nothing to show</div>;\r\n    }\r\n  }, [collection]);\r\n\r\n  return (\r\n    <div className=\"container mt-3\">\r\n      {isLoading && <Loader />}\r\n      {error && <div>{error}</div>}\r\n      {collection && renderedArticles}\r\n    </div>\r\n  );\r\n}\r\n","import { BASE_URL } from \"utils/constants\";\r\n\r\nclass CommentService {\r\n  getAll(newsId) {\r\n    return new Promise((resolve, reject) => {\r\n      fetch(`${BASE_URL}/api/comment/getAllForNews/${newsId}`)\r\n        .then(async (response) => {\r\n          if (response.status !== 200) {\r\n            reject(response);\r\n          } else {\r\n            resolve(await response.json());\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          reject(err);\r\n        });\r\n    });\r\n  }\r\n\r\n  create(payload) {\r\n    return new Promise((resolve, reject) => {\r\n      fetch(`${BASE_URL}/api/comment/create/${payload.newsId}`, {\r\n        method: \"post\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify(payload),\r\n      })\r\n        .then((response) => {\r\n          if (response.status !== 200) {\r\n            resolve(response.text());\r\n          } else {\r\n            resolve(response.text());\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          reject(err);\r\n        });\r\n    });\r\n  }\r\n}\r\n\r\nexport default new CommentService();\r\n","import React, { useState, useEffect, useRef } from \"react\";\r\nimport Loader from \"components/loader\";\r\nimport CommentService from \"services/comment/index\";\r\n\r\nexport default function CommentsList({ newsId }) {\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [data, setData] = useState(null);\r\n  const [error, setError] = useState(null);\r\n\r\n  useEffect(() => {\r\n    if (data === null) {\r\n      CommentService.getAll(newsId)\r\n        .then((response) => {\r\n          setData(response);\r\n        })\r\n        .catch((error) => {\r\n          setError(`Error ${error.status} ${error.statusText}`);\r\n        })\r\n        .finally(() => setIsLoading(false));\r\n    }\r\n  }, [newsId, data]);\r\n\r\n  const newCommentInput = useRef();\r\n\r\n  function onClickHandler() {\r\n    if (newCommentInput.current.value !== \"\") {\r\n      CommentService.create({\r\n        content: newCommentInput.current.value,\r\n        newsId: parseInt(newsId),\r\n      })\r\n        .then(() => {\r\n          setIsLoading(true);\r\n          setData(null);\r\n        })\r\n        .catch((error) => {\r\n          setError(`Error ${error.status} ${error.statusText}`);\r\n        })\r\n        .finally(() => setIsLoading(false));\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"container mt-3\">\r\n      {isLoading && <Loader />}\r\n      {error && <div>{error}</div>}\r\n      {data && (\r\n        <section className=\"is-large\">\r\n          {data.map((comment) => (\r\n            <article className=\"media\" key={comment.id}>\r\n              <figure className=\"media-left\">\r\n                <p className=\"image is-64x64\">\r\n                  <img src=\"https://via.placeholder.com/128x128\" alt=\"author\" />\r\n                </p>\r\n              </figure>\r\n              <div className=\"media-content\">\r\n                <div className=\"content\">\r\n                  <p>\r\n                    <strong>{comment.author}</strong>\r\n                    <br />\r\n                    {comment.content}\r\n                    <br />\r\n                  </p>\r\n                </div>\r\n              </div>\r\n            </article>\r\n          ))}\r\n\r\n          <article className=\"media\">\r\n            <figure className=\"media-left\">\r\n              <p className=\"image is-64x64\">\r\n                <img src=\"https://via.placeholder.com//128x128\" alt=\"user\" />\r\n              </p>\r\n            </figure>\r\n            <div className=\"media-content\">\r\n              <div className=\"field\">\r\n                <p className=\"control\">\r\n                  <textarea\r\n                    className=\"textarea\"\r\n                    placeholder=\"Add a comment...\"\r\n                    ref={newCommentInput}\r\n                  ></textarea>\r\n                </p>\r\n              </div>\r\n              <div className=\"field\">\r\n                <p className=\"control\">\r\n                  <button className=\"button\" onClick={onClickHandler}>\r\n                    Post comment\r\n                  </button>\r\n                </p>\r\n              </div>\r\n            </div>\r\n          </article>\r\n        </section>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport Loader from \"components/loader\";\r\nimport NewsService from \"services/news/index\";\r\nimport CommentsList from \"components/comments-list\";\r\nimport draftToHtml from \"draftjs-to-html\";\r\n\r\nexport default function SingleNews() {\r\n  let { id } = useParams();\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [data, setData] = useState(null);\r\n  const [error, setError] = useState(null);\r\n  const [content, setContent] = useState();\r\n\r\n  useEffect(() => {\r\n    if (data === null) {\r\n      NewsService.getById(id)\r\n        .then((response) => {\r\n          setData(response);\r\n\r\n          if (response.content) {\r\n            const parserContent = draftToHtml(JSON.parse(response.content));\r\n            setContent(parserContent);\r\n          }\r\n        })\r\n        .catch((error) => {\r\n          setError(`Error ${error.status} ${error.statusText}`);\r\n        })\r\n        .finally(() => setIsLoading(false));\r\n    }\r\n  }, [id, data]);\r\n\r\n  return (\r\n    <div className=\"container mt-3\">\r\n      {isLoading && <Loader />}\r\n      {error && <div>{error}</div>}\r\n      {data && (\r\n        <>\r\n          <section className=\"is-large\">\r\n            <h4 className=\"title\">{data.title}</h4>\r\n            <h5 className=\"subtitle\">{data.subtitle}</h5>\r\n            <div className=\"content\">\r\n              <p>Author: {data.authorName}</p>\r\n            </div>\r\n            <div className=\"columns is-multiline is-mobile\">\r\n              {content && (\r\n                <div\r\n                  className=\"column\"\r\n                  dangerouslySetInnerHTML={{\r\n                    __html: content,\r\n                  }}\r\n                />\r\n              )}\r\n\r\n              {data.img && (\r\n                <div className=\"column is-one-quarter\">\r\n                  <figure className=\"image is-128x128\">\r\n                    <img src={data.img} alt={data.title} />\r\n                  </figure>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </section>\r\n\r\n          <CommentsList newsId={id} />\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import { BASE_URL } from \"utils/constants\";\r\n\r\nclass DictionaryService {\r\n  getAll() {\r\n    return new Promise((resolve, reject) => {\r\n      fetch(`${BASE_URL}/api/dictionary/getAll`)\r\n        .then(async (response) => {\r\n          if (response.status !== 200) {\r\n            reject(response);\r\n          } else {\r\n            resolve(await response.json());\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          reject(err);\r\n        });\r\n    });\r\n  }\r\n}\r\n\r\nexport default new DictionaryService();\r\n","import React, { useEffect, useState } from \"react\";\nimport { BrowserRouter, Switch, Route } from \"react-router-dom\";\nimport Header from \"components/header\";\nimport Home from \"view/home\";\nimport AdminDashboard from \"view/admin-dashboard\";\nimport \"./styles.scss\";\nimport AdminMenuWrapper from \"components/admin-menu-wrapper\";\nimport LogIn from \"view/log-in\";\nimport { StoreContext } from \"context\";\nimport { ROLE_ADMIN } from \"utils/constants\";\nimport AdminNewsList from \"view/admin-news-list\";\nimport AdminEditNews from \"view/admin-edit-news\";\nimport AdminAddNews from \"view/admin-add-news\";\nimport NewsList from \"view/news-list\";\nimport SingleNews from \"view/single-news\";\nimport DictionaryService from \"services/dictionary/index\";\n\nexport default function App() {\n  const [isLoading, setIsLoading] = useState(true);\n  const [storeData, setStoreData] = useState({\n    userData: null,\n    dictionaryData: null,\n  });\n\n  useEffect(() => {\n    if (isLoading === true) {\n      DictionaryService.getAll()\n        .then((response) => {\n          setStoreData((prevData) => ({\n            ...prevData,\n            dictionaryData: response.reduce((dictObject, dictionary) => {\n              if (dictObject[dictionary.type]) {\n                dictObject[dictionary.type].push(dictionary);\n              } else {\n                dictObject[dictionary.type] = [dictionary];\n              }\n              return dictObject;\n            }, {}),\n          }));\n        })\n        .finally(() => setIsLoading(false));\n    }\n  }, [isLoading]);\n\n  return (\n    <StoreContext.Provider value={{ storeData, setStoreData }}>\n      <BrowserRouter>\n        <Header />\n        <Switch>\n          <Route path=\"/\" exact={true}>\n            <Home />\n          </Route>\n          <Route path=\"/news-list/:categoryId?\">\n            <NewsList />\n          </Route>\n          <Route path={`/news/:id`}>\n            <SingleNews />\n          </Route>\n\n          {storeData.userData &&\n          storeData.userData.roles.includes(ROLE_ADMIN) ? (\n            <>\n              <Route path={\"/admin/dashboard\"}>\n                <AdminMenuWrapper>\n                  <AdminDashboard />\n                </AdminMenuWrapper>\n              </Route>\n              <Route path={\"/admin/news-list\"}>\n                <AdminMenuWrapper>\n                  <AdminNewsList />\n                </AdminMenuWrapper>\n              </Route>\n              <Route path={\"/admin/add-news\"}>\n                <AdminMenuWrapper>\n                  <AdminAddNews />\n                </AdminMenuWrapper>\n              </Route>\n              <Route path={\"/admin/edit-news/:id\"}>\n                <AdminMenuWrapper>\n                  <AdminEditNews />\n                </AdminMenuWrapper>\n              </Route>\n            </>\n          ) : (\n            <>\n              <Route path=\"/log-in\">\n                <LogIn />\n              </Route>\n            </>\n          )}\n        </Switch>\n      </BrowserRouter>\n    </StoreContext.Provider>\n  );\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}