{"version":3,"sources":["logo.png","context/index.js","utils/constants.js","components/header/index.jsx","view/home/index.jsx","view/admin-dashboard/index.jsx","components/admin-menu-wrapper/index.jsx","services/user/index.js","view/log-in/index.jsx","services/news/index.js","components/loader/index.jsx","view/admin-news-list/index.jsx","components/news-form/index.jsx","view/admin-edit-news/index.jsx","view/admin-add-news/index.jsx","components/news-miniature/index.jsx","view/news-list/index.jsx","services/comment/index.js","components/comments-list/index.jsx","view/single-news/index.jsx","services/dictionary/index.js","components/modal/index.js","view/admin-dictionary-list/index.jsx","App.jsx","index.jsx"],"names":["StoreContext","createContext","ROLE_ADMIN","BASE_URL","STORAGE_TOKEN_KEY","Header","useState","isMenuActive","setIsMenuActive","useContext","storeData","setStoreData","className","role","aria-label","to","exact","src","Logo","width","height","alt","onClick","aria-expanded","aria-hidden","activeClassName","userData","roles","includes","username","localStorage","removeItem","prevData","undefined","Home","dictionaryData","map","category","id","name","AdminDashboard","AdminMenuWrapper","props","children","payload","Promise","resolve","reject","fetch","method","headers","body","JSON","stringify","then","response","a","status","json","catch","err","LogIn","message","setMessage","history","useHistory","onSubmit","event","preventDefault","target","login","value","password","UserService","logIn","setItem","accessToken","push","error","type","text","placeholder","url","categoryId","concat","query","getItem","Articles","size","AdminNewsList","isLoading","setIsLoading","collection","setCollection","setError","useParams","location","useLocation","URLSearchParams","search","get","useEffect","NewsService","getAll","statusText","finally","categoriesOptions","useMemo","onChangeQueryHandler","useDebouncedCallback","pathname","defaultValue","onChange","class","news","title","subtitle","published","articleId","delete","publish","NewsForm","formData","miniatureContent","miniatureColor","miniatureSize","miniatureSubtitle","miniatureTitle","setFormData","content","EditorState","createWithContent","convertFromRaw","parse","createEmpty","editorState","setEditorState","convertedContent","setConvertedContent","onChangeHandler","fieldName","Object","entries","reduce","newPayload","key","convertToRaw","getCurrentContent","parseInt","request","e","required","maxLength","onEditorStateChange","state","wrapperClassName","editorClassName","toolbarClassName","dangerouslySetInnerHTML","__html","draftToHtml","AdminEditNews","data","setData","getByIdForEdit","update","AdminAddNews","create","NewsMiniature","miniatureIsVertical","newsId","img","NewsList","getAllNewest","renderedArticles","res","el","i","length","groupedNews","gridTemplate","string","style","gridTemplateColumns","display","CommentsList","CommentService","newCommentInput","useRef","comment","author","ref","current","SingleNews","setContent","getById","parserContent","authorName","modalRoot","document","getElementById","Modal","createElement","appendChild","this","removeChild","ReactDOM","createPortal","onClose","onSave","React","Component","AdminDictionariesList","modalData","setModalData","getDictionaries","useCallback","DictionaryService","dictObject","dictionary","generatedMessage","code","App","Provider","path","render","StrictMode"],"mappings":"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","file":"static/js/main.ad6bc5f7.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.1561cb7e.png\";","import { createContext } from \"react\";\r\n\r\nexport const StoreContext = createContext(null);\r\n","export const ROLE_ADMIN = \"ROLE_ADMIN\";\r\nexport const ROLE_MODERATOR = \"ROLE_MODERATOR\";\r\n\r\nexport const BASE_URL =\r\n  process.env.NODE_ENV === \"development\" ? \"http://localhost:8080\" : \"\";\r\nexport const STORAGE_TOKEN_KEY = \"token\";\r\n","import React, { useState, useContext } from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport Logo from \"logo.png\";\r\nimport { StoreContext } from \"context\";\r\nimport { ROLE_ADMIN, STORAGE_TOKEN_KEY } from \"utils/constants\";\r\n\r\nexport default function Header() {\r\n  const [isMenuActive, setIsMenuActive] = useState(false);\r\n  const { storeData, setStoreData } = useContext(StoreContext);\r\n\r\n  const signOutHandler = () => {\r\n    localStorage.removeItem(STORAGE_TOKEN_KEY);\r\n    setStoreData((prevData) => ({ ...prevData, userData: undefined }));\r\n  };\r\n  return (\r\n    <nav\r\n      className=\"navbar is-info\"\r\n      role=\"navigation\"\r\n      aria-label=\"main navigation\"\r\n    >\r\n      <div className=\"container\">\r\n        <div className=\"navbar-brand\">\r\n          <NavLink className=\"navbar-item\" to=\"/\" exact={true}>\r\n            <img src={Logo} width=\"112\" height=\"28\" alt=\"logo\" />\r\n          </NavLink>\r\n\r\n          <span\r\n            onClick={() => setIsMenuActive(!isMenuActive)}\r\n            role=\"button\"\r\n            className=\"navbar-burger burger\"\r\n            aria-label=\"menu\"\r\n            aria-expanded=\"false\"\r\n          >\r\n            <span aria-hidden=\"true\"></span>\r\n            <span aria-hidden=\"true\"></span>\r\n            <span aria-hidden=\"true\"></span>\r\n          </span>\r\n        </div>\r\n\r\n        <div className={`navbar-menu  ${isMenuActive && \"is-active\"}`}>\r\n          <div className=\"navbar-start\">\r\n            <NavLink\r\n              className=\"navbar-item\"\r\n              activeClassName=\"is-active\"\r\n              to=\"/\"\r\n              exact={true}\r\n            >\r\n              Home\r\n            </NavLink>\r\n\r\n            <NavLink\r\n              className=\"navbar-item\"\r\n              activeClassName=\"is-active\"\r\n              to=\"/news-list\"\r\n            >\r\n              News\r\n            </NavLink>\r\n\r\n            {storeData.userData &&\r\n              storeData.userData.roles.includes(ROLE_ADMIN) && (\r\n                <NavLink\r\n                  className=\"navbar-item\"\r\n                  activeClassName=\"is-active\"\r\n                  to=\"/admin/dashboard\"\r\n                >\r\n                  Admin\r\n                </NavLink>\r\n              )}\r\n          </div>\r\n\r\n          <div className=\"navbar-end\">\r\n            <div className=\"navbar-item\">\r\n              <div className=\"buttons\">\r\n                {storeData.userData ? (\r\n                  <>\r\n                    <div className=\"media-content mr-3\">\r\n                      <p className=\"title is-4 has-text-white\">{`${storeData.userData.username}`}</p>\r\n                    </div>\r\n                    <div onClick={signOutHandler}>\r\n                      <NavLink className=\"button is-primary\" to=\"/\">\r\n                        <strong>Sing out</strong>\r\n                      </NavLink>\r\n                    </div>\r\n                  </>\r\n                ) : (\r\n                  <NavLink className=\"button is-light\" to=\"/log-in\">\r\n                    Log in\r\n                  </NavLink>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </nav>\r\n  );\r\n}\r\n","import { StoreContext } from \"context\";\r\nimport React, { useContext } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport default function Home() {\r\n  const { storeData } = useContext(StoreContext);\r\n\r\n  return (\r\n    <section className=\"hero is-info is-fullheight-with-navbar\">\r\n      <div className=\"hero-body\">\r\n        <div className=\"container\">\r\n          <h1 className=\"title\">Hello on News Blog</h1>\r\n          <h2 className=\"subtitle\">Web app blog with admin</h2>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"hero-foot\">\r\n        <nav className=\"tabs is-boxed is-fullwidth\">\r\n          <div className=\"container\">\r\n            <ul>\r\n              {storeData &&\r\n                storeData.dictionaryData &&\r\n                storeData.dictionaryData[\"news_category\"] &&\r\n                storeData.dictionaryData[\"news_category\"].map((category) => (\r\n                  <li>\r\n                    <Link to={`/news-list/${category.id}`}>\r\n                      {category.name}\r\n                    </Link>\r\n                  </li>\r\n                ))}\r\n            </ul>\r\n          </div>\r\n        </nav>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n","import React from \"react\";\r\n\r\nexport default function AdminDashboard() {\r\n  return (\r\n    <section className=\"hero is-danger is-fullheight-with-navbar\">\r\n      <div className=\"hero-body\">\r\n        <h1 className=\"title\">Admin dashboard</h1>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\nexport default function AdminMenuWrapper(props) {\r\n  return (\r\n    <div className=\"columns\">\r\n      <div className=\"column is-2\">\r\n        <aside className=\"menu mt-3 ml-3\">\r\n          <p className=\"menu-label\">Administration</p>\r\n          <ul className=\"menu-list\">\r\n            <li>\r\n              <NavLink\r\n                activeClassName=\"is-active\"\r\n                to=\"/admin/dashboard\"\r\n                exact={true}\r\n              >\r\n                Dashboard\r\n              </NavLink>\r\n            </li>\r\n            <li>\r\n              <NavLink activeClassName=\"is-active\" to=\"/admin/news-list\">\r\n                News\r\n              </NavLink>\r\n            </li>\r\n            <li>\r\n              <NavLink\r\n                activeClassName=\"is-active\"\r\n                to=\"/admin/dictionary-list\"\r\n                exact={true}\r\n              >\r\n                Dictionary\r\n              </NavLink>\r\n            </li>\r\n          </ul>\r\n        </aside>\r\n      </div>\r\n      <div className=\"column\">{props.children}</div>\r\n    </div>\r\n  );\r\n}\r\n","import { BASE_URL } from \"utils/constants\";\r\n\r\nclass UserService {\r\n  logIn(payload) {\r\n    return new Promise((resolve, reject) => {\r\n      fetch(`${BASE_URL}/api/auth/signIn`, {\r\n        method: \"post\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify(payload),\r\n      })\r\n        .then(async (response) => {\r\n          if (response.status === 200) {\r\n            resolve(await response.json());\r\n          } else {\r\n            reject(await response.json());\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          reject(err);\r\n        });\r\n    });\r\n  }\r\n}\r\n\r\nexport default new UserService();\r\n","import React, { useState, useContext } from \"react\";\r\nimport UserService from \"services/user\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { StoreContext } from \"context\";\r\nimport { STORAGE_TOKEN_KEY } from \"utils/constants\";\r\n\r\nexport default function LogIn() {\r\n  const [message, setMessage] = useState(undefined);\r\n  let history = useHistory();\r\n  const { setStoreData } = useContext(StoreContext);\r\n\r\n  function onSubmitHandler(event) {\r\n    event.preventDefault();\r\n    setMessage(undefined);\r\n\r\n    const payload = {\r\n      username: event.target.login.value,\r\n      password: event.target.password.value,\r\n    };\r\n\r\n    UserService.logIn(payload)\r\n      .then((response) => {\r\n        localStorage.setItem(STORAGE_TOKEN_KEY, response.accessToken);\r\n        setStoreData((prevData) => ({ ...prevData, userData: response }));\r\n        history.push(\"/\");\r\n      })\r\n      .catch((error) => {\r\n        setMessage({ type: \"danger\", text: `Error! ${error.message}` });\r\n      });\r\n  }\r\n\r\n  return (\r\n    <section className=\"section\">\r\n      <div className=\"container mt-3\">\r\n        <h1 className=\"title\">Log in page</h1>\r\n        <form onSubmit={onSubmitHandler}>\r\n          <div className=\"field\">\r\n            <p className=\"control has-icons-left has-icons-right\">\r\n              <input\r\n                className=\"input\"\r\n                name=\"login\"\r\n                type=\"text\"\r\n                placeholder=\"Login\"\r\n              />\r\n              <span className=\"icon is-small is-left\">\r\n                <i className=\"fas fa-envelope\"></i>\r\n              </span>\r\n            </p>\r\n          </div>\r\n          <div className=\"field\">\r\n            <p className=\"control has-icons-left\">\r\n              <input\r\n                className=\"input\"\r\n                name=\"password\"\r\n                type=\"password\"\r\n                placeholder=\"Password\"\r\n              />\r\n              <span className=\"icon is-small is-left\">\r\n                <i className=\"fas fa-lock\"></i>\r\n              </span>\r\n            </p>\r\n          </div>\r\n          <div className=\"field\">\r\n            <p className=\"control\">\r\n              <button className=\"button is-success\">Login</button>\r\n            </p>\r\n          </div>\r\n        </form>\r\n      </div>\r\n      {message && (\r\n        <article className={`message is-${message.type} mt-6`}>\r\n          <div className=\"message-body\">{message.text}</div>\r\n        </article>\r\n      )}\r\n    </section>\r\n  );\r\n}\r\n","import { BASE_URL, STORAGE_TOKEN_KEY } from \"utils/constants\";\r\n\r\nclass NewsService {\r\n  getAll(payload) {\r\n    return new Promise((resolve, reject) => {\r\n      let url = `${BASE_URL}/api/news/getAll`;\r\n      if (payload.categoryId) {\r\n        url = url.concat(`/${payload.categoryId}`);\r\n      }\r\n      if (payload.query) {\r\n        url = url.concat(`?query=${payload.query}`);\r\n      }\r\n\r\n      fetch(url, {\r\n        headers: { \"x-access-token\": localStorage.getItem(STORAGE_TOKEN_KEY) },\r\n      })\r\n        .then(async (response) => {\r\n          if (response.status !== 200) {\r\n            reject(response);\r\n          } else {\r\n            resolve(await response.json());\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          reject(err);\r\n        });\r\n    });\r\n  }\r\n\r\n  getById(id) {\r\n    return new Promise((resolve, reject) => {\r\n      fetch(`${BASE_URL}/api/news/getById/${id}`, {\r\n        headers: { \"x-access-token\": localStorage.getItem(STORAGE_TOKEN_KEY) },\r\n      })\r\n        .then(async (response) => {\r\n          if (response.status !== 200) {\r\n            reject(response);\r\n          } else {\r\n            resolve(await response.json());\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          reject(err);\r\n        });\r\n    });\r\n  }\r\n\r\n  getByIdForEdit(id) {\r\n    return new Promise((resolve, reject) => {\r\n      fetch(`${BASE_URL}/api/news/getByIdForEdit/${id}`, {\r\n        headers: { \"x-access-token\": localStorage.getItem(STORAGE_TOKEN_KEY) },\r\n      })\r\n        .then(async (response) => {\r\n          if (response.status !== 200) {\r\n            reject(response);\r\n          } else {\r\n            resolve(await response.json());\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          reject(err);\r\n        });\r\n    });\r\n  }\r\n\r\n  create(payload) {\r\n    return new Promise((resolve, reject) => {\r\n      fetch(`${BASE_URL}/api/news/create`, {\r\n        method: \"post\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          \"x-access-token\": localStorage.getItem(STORAGE_TOKEN_KEY),\r\n        },\r\n        body: JSON.stringify(payload),\r\n      })\r\n        .then((response) => {\r\n          if (response.status === 200) {\r\n            resolve();\r\n          } else {\r\n            reject(response.message);\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          reject(err.message);\r\n        });\r\n    });\r\n  }\r\n\r\n  update(payload) {\r\n    return new Promise((resolve, reject) => {\r\n      fetch(`${BASE_URL}/api/news/edit`, {\r\n        method: \"put\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          \"x-access-token\": localStorage.getItem(STORAGE_TOKEN_KEY),\r\n        },\r\n        body: JSON.stringify(payload),\r\n      })\r\n        .then((response) => {\r\n          if (response.status === 200) {\r\n            resolve();\r\n          } else {\r\n            reject(response.message);\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          reject(err.message);\r\n        });\r\n    });\r\n  }\r\n\r\n  delete(id) {\r\n    return new Promise((resolve, reject) => {\r\n      fetch(`${BASE_URL}/api/news/delete/${id}`, {\r\n        method: \"delete\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          \"x-access-token\": localStorage.getItem(STORAGE_TOKEN_KEY),\r\n        },\r\n      })\r\n        .then(async (response) => {\r\n          if (response.status !== 200) {\r\n            reject(response);\r\n          } else {\r\n            resolve(await response.json());\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          reject(err);\r\n        });\r\n    });\r\n  }\r\n\r\n  publish(id) {\r\n    return new Promise((resolve, reject) => {\r\n      fetch(`${BASE_URL}/api/news/publish/${id}`, {\r\n        method: \"put\",\r\n        headers: {\r\n          \"x-access-token\": localStorage.getItem(STORAGE_TOKEN_KEY),\r\n        },\r\n      })\r\n        .then(async (response) => {\r\n          if (response.status !== 200) {\r\n            reject(response);\r\n          } else {\r\n            resolve(await response.json());\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          reject(err);\r\n        });\r\n    });\r\n  }\r\n\r\n  getAllNewest(payload) {\r\n    let url = `${BASE_URL}/api/news/getAllNewest`;\r\n    if (payload.categoryId) {\r\n      url = url.concat(`/${payload.categoryId}`);\r\n    }\r\n    if (payload.query) {\r\n      url = url.concat(`?query=${payload.query}`);\r\n    }\r\n\r\n    return new Promise((resolve, reject) => {\r\n      fetch(url)\r\n        .then(async (response) => {\r\n          if (response.status !== 200) {\r\n            reject(response);\r\n          } else {\r\n            resolve(await response.json());\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          reject(err);\r\n        });\r\n    });\r\n  }\r\n}\r\n\r\nexport default new NewsService();\r\n","import React from \"react\";\r\nimport \"./styles.scss\";\r\n\r\nexport default function Articles(props) {\r\n  return (\r\n    <div className={`parent ${props.size}`}>\r\n      <div className=\"child\"></div>\r\n      <div className=\"child\"></div>\r\n      <div className=\"child\"></div>\r\n      <div className=\"child\"></div>\r\n      <div className=\"child\"></div>\r\n      <div className=\"child\"></div>\r\n      <div className=\"child\"></div>\r\n      <div className=\"child\"></div>\r\n      <div className=\"child\"></div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useContext, useEffect, useMemo, useState } from \"react\";\r\nimport NewsService from \"services/news/index\";\r\nimport Loader from \"components/loader\";\r\nimport \"./styles.scss\";\r\nimport { useHistory, useLocation, useParams } from \"react-router\";\r\nimport { StoreContext } from \"context\";\r\nimport { useDebouncedCallback } from \"use-debounce/lib\";\r\n\r\nexport default function AdminNewsList() {\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [collection, setCollection] = useState(null);\r\n  const [error, setError] = useState(null);\r\n  const history = useHistory();\r\n  const { categoryId } = useParams();\r\n  const location = useLocation();\r\n  const { storeData } = useContext(StoreContext);\r\n\r\n  const query = new URLSearchParams(location.search).get(\"query\");\r\n\r\n  useEffect(() => {\r\n    setIsLoading(true);\r\n    NewsService.getAll({\r\n      query,\r\n      categoryId,\r\n    })\r\n      .then((response) => {\r\n        setCollection(response);\r\n      })\r\n      .catch((error) => {\r\n        setError(`Error ${error.status} ${error.statusText}`);\r\n      })\r\n      .finally(() => setIsLoading(false));\r\n  }, [query, categoryId]);\r\n\r\n  function onClickDeleteHandler(articleId) {\r\n    setIsLoading(true);\r\n    NewsService.delete(articleId)\r\n      .then(() => {\r\n        setCollection(null);\r\n      })\r\n      .catch((error) => {\r\n        setError(`Error ${error.status} ${error.statusText}`);\r\n      });\r\n  }\r\n\r\n  function onClickPublishHandler(articleId) {\r\n    setIsLoading(true);\r\n    NewsService.publish(articleId)\r\n      .catch((error) => {\r\n        setError(`Error ${error.status} ${error.statusText}`);\r\n      })\r\n      .finally(() => setIsLoading(false));\r\n  }\r\n\r\n  const categoriesOptions = useMemo(\r\n    () => (\r\n      <>\r\n        <option value=\"\">Select category</option>\r\n        {storeData &&\r\n          storeData.dictionaryData &&\r\n          storeData.dictionaryData[\"news_category\"] &&\r\n          storeData.dictionaryData[\"news_category\"].map((category) => (\r\n            <option key={category.id} value={category.id}>\r\n              {category.name}\r\n            </option>\r\n          ))}\r\n      </>\r\n    ),\r\n    [storeData]\r\n  );\r\n\r\n  const onChangeQueryHandler = useDebouncedCallback((query) => {\r\n    let url = location.pathname;\r\n    if (query !== \"\") {\r\n      url = `${url}?query=${query}`;\r\n    }\r\n    history.push(url);\r\n  }, 200);\r\n\r\n  return (\r\n    <div className=\"container mt-3\">\r\n      <div>\r\n        <div className=\"container\">\r\n          <h1 className=\"title\">News list</h1>\r\n          <div className=\"search\">\r\n            <button\r\n              className=\"button news-list__add-btn\"\r\n              onClick={() => history.push(\"/admin/add-news\")}\r\n            >\r\n              Add article\r\n              <i className=\"fas fa-plus\"></i>\r\n            </button>\r\n            <div className=\"field\">\r\n              <label className=\"label\">Search</label>\r\n              <div className=\"control\">\r\n                <input\r\n                  className=\"input\"\r\n                  type=\"text\"\r\n                  placeholder=\"Text input\"\r\n                  defaultValue={query}\r\n                  onChange={(event) => {\r\n                    onChangeQueryHandler(event.target.value);\r\n                  }}\r\n                />\r\n              </div>\r\n            </div>\r\n            <div class=\"field\">\r\n              <label class=\"label\">Category</label>\r\n              <div class=\"control\">\r\n                <div class=\"select\">\r\n                  <select\r\n                    value={categoryId}\r\n                    onChange={(event) => {\r\n                      let url = `/admin/news-list/${event.target.value ?? \"\"}`;\r\n                      if (query && query !== \"\") {\r\n                        url = `${url}?query=${query}`;\r\n                      }\r\n                      history.push(url);\r\n                    }}\r\n                  >\r\n                    {categoriesOptions}\r\n                  </select>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          {isLoading && <Loader />}\r\n          {error && !isLoading && <div>{error}</div>}\r\n          {collection && !isLoading && (\r\n            <div className=\"news-list\">\r\n              {collection.map((news) => (\r\n                <div className=\"news-list__row\" key={news.id}>\r\n                  <div className=\"news-list__row--text\">{news.title}</div>\r\n                  <div className=\"news-list__row--text\">{news.subtitle}</div>\r\n                  <div className=\"news-list__row--text\">\r\n                    {news.published === true ? \"Published\" : \"Not published\"}\r\n                  </div>\r\n                  <div\r\n                    className=\"news-list__table-btn\"\r\n                    onClick={() => history.push(`/admin/edit-news/${news.id}`)}\r\n                  >\r\n                    <i className=\"fas fa-edit\"></i>\r\n                  </div>\r\n                  <div\r\n                    className=\"news-list__table-btn\"\r\n                    onClick={() => onClickDeleteHandler(news.id)}\r\n                  >\r\n                    <i className=\"fas fa-trash\"></i>\r\n                  </div>\r\n                  {news.published === false && (\r\n                    <div\r\n                      className=\"news-list__table-btn\"\r\n                      onClick={() => onClickPublishHandler(news.id)}\r\n                    >\r\n                      <i className=\"far fa-newspaper\"></i>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              ))}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useContext, useState } from \"react\";\r\nimport { useHistory } from \"react-router\";\r\nimport { EditorState, convertToRaw, convertFromRaw } from \"draft-js\";\r\nimport { Editor } from \"react-draft-wysiwyg\";\r\nimport draftToHtml from \"draftjs-to-html\";\r\nimport \"react-draft-wysiwyg/dist/react-draft-wysiwyg.css\";\r\nimport \"./styles.scss\";\r\nimport { StoreContext } from \"context\";\r\n\r\nexport default function NewsForm(props) {\r\n  const { storeData } = useContext(StoreContext);\r\n\r\n  const history = useHistory();\r\n  const [formData, setFormData] = useState(\r\n    props.formData ?? {\r\n      miniatureContent: \"\",\r\n      miniatureColor: \"\",\r\n      categoryId: storeData.dictionaryData[\"news_category\"][0].id,\r\n      miniatureSize: \"\",\r\n      miniatureSubtitle: \"\",\r\n      miniatureTitle: \"\",\r\n      subtitle: \"\",\r\n      title: \"\",\r\n    }\r\n  );\r\n\r\n  const [editorState, setEditorState] = useState(\r\n    props.formData && props.formData.content\r\n      ? EditorState.createWithContent(\r\n          convertFromRaw(JSON.parse(props.formData.content))\r\n        )\r\n      : EditorState.createEmpty()\r\n  );\r\n  const [convertedContent, setConvertedContent] = useState(\r\n    props.formData && props.formData.content\r\n      ? JSON.parse(props.formData.content)\r\n      : null\r\n  );\r\n\r\n  const handleEditorChange = (state) => {\r\n    setEditorState(state);\r\n    setConvertedContent(convertToRaw(state.getCurrentContent()));\r\n  };\r\n\r\n  function onChangeHandler(value, fieldName) {\r\n    setFormData({ ...formData, [fieldName]: value });\r\n  }\r\n\r\n  async function onSubmitHandler() {\r\n    const payload = Object.entries(formData).reduce(\r\n      (newPayload, [key, value]) => {\r\n        if (value !== \"\") {\r\n          newPayload[key] = value;\r\n        }\r\n        return newPayload;\r\n      },\r\n      {}\r\n    );\r\n    payload.content = await JSON.stringify(\r\n      convertToRaw(editorState.getCurrentContent())\r\n    );\r\n    payload.categoryId = parseInt(payload.categoryId);\r\n\r\n    props\r\n      .request(payload)\r\n      .then(() => {\r\n        history.push(\"/admin/news-list\");\r\n      })\r\n      .catch((error) => {});\r\n  }\r\n\r\n  return (\r\n    <div className=\"container mt-3 px-3\">\r\n      <div className=\"field\">\r\n        <label className=\"label\">title</label>\r\n        <div className=\"control\">\r\n          <input\r\n            className=\"input\"\r\n            type=\"text\"\r\n            placeholder=\"Text input\"\r\n            value={formData.title}\r\n            onChange={(e) => onChangeHandler(e.target.value, \"title\")}\r\n            required\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"field\">\r\n        <label className=\"label\">subtitle</label>\r\n        <div className=\"control\">\r\n          <input\r\n            className=\"input\"\r\n            type=\"text\"\r\n            placeholder=\"Subtitle\"\r\n            value={formData.subtitle}\r\n            onChange={(e) => onChangeHandler(e.target.value, \"subtitle\")}\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"field\">\r\n        <label className=\"label\">miniature title</label>\r\n        <div className=\"control\">\r\n          <input\r\n            className=\"input\"\r\n            type=\"text\"\r\n            placeholder=\"Text input\"\r\n            value={formData.miniatureTitle}\r\n            onChange={(e) => onChangeHandler(e.target.value, \"miniatureTitle\")}\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"field\">\r\n        <label className=\"label\">miniature subtitle</label>\r\n        <div className=\"control\">\r\n          <input\r\n            className=\"input\"\r\n            type=\"text\"\r\n            placeholder=\"Text input\"\r\n            value={formData.miniatureSubtitle}\r\n            onChange={(e) =>\r\n              onChangeHandler(e.target.value, \"miniatureSubtitle\")\r\n            }\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"field is-grouped is-justify-content-space-between\">\r\n        <div>\r\n          <label className=\"label mr-2 mb-0\">miniature color</label>\r\n          <div className=\"control\">\r\n            <div className=\"select\">\r\n              <select\r\n                className=\"is-primary\"\r\n                value={formData.miniatureColor}\r\n                onChange={(e) =>\r\n                  onChangeHandler(e.target.value, \"miniatureColor\")\r\n                }\r\n              >\r\n                <option>None</option>\r\n                <option className=\"has-text-primary\" value=\"is-primary\">\r\n                  Primary\r\n                </option>\r\n                <option className=\"has-text-link\" value=\"is-link\">\r\n                  Link\r\n                </option>\r\n                <option className=\"has-text-info\" value=\"is-info\">\r\n                  Info\r\n                </option>\r\n                <option className=\"has-text-success\" value=\"is-success\">\r\n                  Success\r\n                </option>\r\n                <option className=\"has-text-warning\" value=\"is-warning\">\r\n                  warning\r\n                </option>\r\n                <option className=\"has-text-danger\" value=\"is-danger\">\r\n                  danger\r\n                </option>\r\n              </select>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"pl-6\">\r\n          <label className=\"label mr-2 mb-0\">miniature size</label>\r\n          <div className=\"control\">\r\n            <div className=\"select\">\r\n              <select\r\n                className=\"is-primary\"\r\n                value={formData.miniatureSize}\r\n                onChange={(e) =>\r\n                  onChangeHandler(e.target.value, \"miniatureSize\")\r\n                }\r\n              >\r\n                <option value={null}></option>\r\n                <option>1</option>\r\n                <option>2</option>\r\n                <option>3</option>\r\n                <option>4</option>\r\n                <option>5</option>\r\n                <option>6</option>\r\n                <option>7</option>\r\n                <option>8</option>\r\n              </select>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"pl-6\">\r\n          <label className=\"label mr-2 mb-0\">category</label>\r\n          <div className=\"control\">\r\n            <div className=\"select\">\r\n              <select\r\n                className=\"is-primary\"\r\n                value={formData.categoryId}\r\n                onChange={(e) => onChangeHandler(e.target.value, \"categoryId\")}\r\n              >\r\n                {storeData.dictionaryData[\"news_category\"].map((category) => (\r\n                  <option key={category.id} value={category.id}>\r\n                    {category.name}\r\n                  </option>\r\n                ))}\r\n              </select>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"field\">\r\n        <label className=\"label\">miniature content</label>\r\n        <div className=\"control\">\r\n          <textarea\r\n            className=\"textarea\"\r\n            name=\"miniatureContent\"\r\n            placeholder=\"Textarea\"\r\n            value={formData.miniatureContent}\r\n            maxLength={512}\r\n            onChange={(e) =>\r\n              onChangeHandler(e.target.value, \"miniatureContent\")\r\n            }\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"field\">\r\n        <Editor\r\n          editorState={editorState}\r\n          onEditorStateChange={handleEditorChange}\r\n          wrapperClassName=\"wrapper-class\"\r\n          editorClassName=\"editor-class\"\r\n          toolbarClassName=\"toolbar-class\"\r\n        />\r\n      </div>\r\n      {convertedContent !== null && (\r\n        <div className=\"field\">\r\n          <div\r\n            className=\"content\"\r\n            dangerouslySetInnerHTML={{\r\n              __html: draftToHtml(convertedContent),\r\n            }}\r\n          />\r\n        </div>\r\n      )}\r\n\r\n      <div className=\"field is-grouped\">\r\n        <div className=\"control\">\r\n          <button className=\"button is-link\" onClick={onSubmitHandler}>\r\n            Submit\r\n          </button>\r\n        </div>\r\n        <div className=\"control\">\r\n          <button\r\n            className=\"button is-link is-light\"\r\n            onClick={() => history.push(\"/admin/news-list\")}\r\n          >\r\n            Cancel\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useEffect, useState } from \"react\";\r\nimport NewsService from \"services/news/index\";\r\nimport NewsForm from \"components/news-form\";\r\nimport Loader from \"components/loader\";\r\nimport { useParams } from \"react-router\";\r\n\r\nexport default function AdminEditNews() {\r\n  const { id } = useParams();\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [data, setData] = useState(null);\r\n  const [error, setError] = useState(null);\r\n\r\n  useEffect(() => {\r\n    setIsLoading(true);\r\n    NewsService.getByIdForEdit(id)\r\n      .then((response) => {\r\n        setData(response);\r\n      })\r\n      .catch((error) => {\r\n        setError(`Error ${error.status} ${error.statusText}`);\r\n      })\r\n      .finally(() => setIsLoading(false));\r\n  }, [id]);\r\n\r\n  return (\r\n    <div className=\"container mt-3 px-3\">\r\n      {isLoading && <Loader />}\r\n      {error && <div>{error}</div>}\r\n      {data && <NewsForm request={NewsService.update} formData={data} />}\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport NewsService from \"services/news/index\";\r\nimport NewsForm from \"components/news-form\";\r\n\r\nexport default function AdminAddNews() {\r\n  return (\r\n    <div className=\"container mt-3 px-3\">\r\n      <NewsForm request={NewsService.create} />\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport \"./styles.scss\";\r\n\r\nexport default function NewsMiniature({ news }) {\r\n  const history = useHistory();\r\n\r\n  function onClickHandler() {\r\n    history.push(`/news/${news.newsId}`);\r\n  }\r\n\r\n  return (\r\n    <div\r\n      className={`tile is-parent ${\r\n        news.miniatureIsVertical ? \"is-vertical\" : \"\"\r\n      }`}\r\n      onClick={onClickHandler}\r\n    >\r\n      <article\r\n        className={`tile is-child box ${\r\n          news.miniatureColor ? `notification ${news.miniatureColor}` : \"\"\r\n        }`}\r\n      >\r\n        <p className=\"title\">{news.miniatureTitle}</p>\r\n        <p className=\"subtitle\">{news.miniatureSubtitle}</p>\r\n        {news.img && (\r\n          <figure className=\"image is-4by3\">\r\n            <img src={news.img} alt={news.miniatureTitle} />\r\n          </figure>\r\n        )}\r\n        {news.miniatureContent && (\r\n          <div className=\"content\">{news.miniatureContent}</div>\r\n        )}\r\n      </article>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useEffect, useState, useMemo, useContext } from \"react\";\r\nimport NewsService from \"services/news/index\";\r\n\r\nimport Loader from \"components/loader\";\r\nimport NewsMiniature from \"components/news-miniature\";\r\nimport { useHistory, useLocation, useParams } from \"react-router\";\r\nimport { StoreContext } from \"context\";\r\nimport { useDebouncedCallback } from \"use-debounce\";\r\n\r\nexport default function NewsList() {\r\n  const { categoryId } = useParams();\r\n  const location = useLocation();\r\n  const history = useHistory();\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [collection, setCollection] = useState(null);\r\n  const [error, setError] = useState(null);\r\n  const { storeData } = useContext(StoreContext);\r\n\r\n  const query = new URLSearchParams(location.search).get(\"query\");\r\n\r\n  useEffect(() => {\r\n    setIsLoading(true);\r\n    NewsService.getAllNewest({\r\n      query,\r\n      categoryId,\r\n    })\r\n      .then((response) => {\r\n        setCollection(response);\r\n      })\r\n      .catch((error) => {\r\n        setError(`Error ${error.status} ${error.statusText}`);\r\n      })\r\n      .finally(() => setIsLoading(false));\r\n  }, [query, categoryId]);\r\n\r\n  const renderedArticles = useMemo(() => {\r\n    if (collection) {\r\n      const groupedCollection = collection.reduce((res, el, i) => {\r\n        if (i % 4 === 0) {\r\n          res[res.length] = [el];\r\n        } else {\r\n          res[res.length - 1] = [...res[res.length - 1], el];\r\n        }\r\n        return res;\r\n      }, []);\r\n      return groupedCollection.map((groupedNews) => {\r\n        const gridTemplate = groupedNews.reduce(\r\n          (string, news) => string.concat(` ${news.miniatureSize ?? 3}fr`),\r\n          \"\"\r\n        );\r\n        return (\r\n          <div\r\n            key={`group-${groupedNews[0].newsId}`}\r\n            style={{\r\n              gridTemplateColumns: `${gridTemplate}`,\r\n              display: \"grid\",\r\n            }}\r\n          >\r\n            {groupedNews.map((news) => (\r\n              <NewsMiniature\r\n                key={`${news.newsId}-${news.miniatureTitle}`}\r\n                news={news}\r\n              />\r\n            ))}\r\n          </div>\r\n        );\r\n      });\r\n    } else {\r\n      return <div>Nothing to show</div>;\r\n    }\r\n  }, [collection]);\r\n\r\n  const categoriesOptions = useMemo(\r\n    () => (\r\n      <>\r\n        <option value=\"\">Select category</option>\r\n        {storeData &&\r\n          storeData.dictionaryData &&\r\n          storeData.dictionaryData[\"news_category\"] &&\r\n          storeData.dictionaryData[\"news_category\"].map((category) => (\r\n            <option key={category.id} value={category.id}>\r\n              {category.name}\r\n            </option>\r\n          ))}\r\n      </>\r\n    ),\r\n    [storeData]\r\n  );\r\n\r\n  const onChangeQueryHandler = useDebouncedCallback((query) => {\r\n    let url = location.pathname;\r\n    if (query !== \"\") {\r\n      url = `${url}?query=${query}`;\r\n    }\r\n    history.push(url);\r\n  }, 200);\r\n\r\n  return (\r\n    <div className=\"container mt-3\">\r\n      <div className=\"search\">\r\n        <div className=\"field\">\r\n          <label className=\"label\">Search</label>\r\n          <div className=\"control\">\r\n            <input\r\n              className=\"input\"\r\n              type=\"text\"\r\n              placeholder=\"Text input\"\r\n              defaultValue={query}\r\n              onChange={(event) => {\r\n                onChangeQueryHandler(event.target.value);\r\n              }}\r\n            />\r\n          </div>\r\n        </div>\r\n        <div class=\"field\">\r\n          <label class=\"label\">Category</label>\r\n          <div class=\"control\">\r\n            <div class=\"select\">\r\n              <select\r\n                value={categoryId}\r\n                onChange={(event) => {\r\n                  let url = `/news-list/${event.target.value}`;\r\n                  if (query && query !== \"\") {\r\n                    url = `${url}?query=${query}`;\r\n                  }\r\n                  history.push(url);\r\n                }}\r\n              >\r\n                {categoriesOptions}\r\n              </select>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      {isLoading && <Loader />}\r\n      {error && <div>{error}</div>}\r\n      {collection && <div>{renderedArticles}</div>}\r\n    </div>\r\n  );\r\n}\r\n","import { BASE_URL } from \"utils/constants\";\r\n\r\nclass CommentService {\r\n  getAll(newsId) {\r\n    return new Promise((resolve, reject) => {\r\n      fetch(`${BASE_URL}/api/comment/getAllForNews/${newsId}`)\r\n        .then(async (response) => {\r\n          if (response.status !== 200) {\r\n            reject(response);\r\n          } else {\r\n            resolve(await response.json());\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          reject(err);\r\n        });\r\n    });\r\n  }\r\n\r\n  create(payload) {\r\n    return new Promise((resolve, reject) => {\r\n      fetch(`${BASE_URL}/api/comment/create/${payload.newsId}`, {\r\n        method: \"post\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify(payload),\r\n      })\r\n        .then((response) => {\r\n          if (response.status !== 200) {\r\n            resolve(response.text());\r\n          } else {\r\n            resolve(response.text());\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          reject(err);\r\n        });\r\n    });\r\n  }\r\n}\r\n\r\nexport default new CommentService();\r\n","import React, { useState, useEffect, useRef } from \"react\";\r\nimport Loader from \"components/loader\";\r\nimport CommentService from \"services/comment/index\";\r\n\r\nexport default function CommentsList({ newsId }) {\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [data, setData] = useState(null);\r\n  const [error, setError] = useState(null);\r\n\r\n  useEffect(() => {\r\n    if (data === null) {\r\n      CommentService.getAll(newsId)\r\n        .then((response) => {\r\n          setData(response);\r\n        })\r\n        .catch((error) => {\r\n          setError(`Error ${error.status} ${error.statusText}`);\r\n        })\r\n        .finally(() => setIsLoading(false));\r\n    }\r\n  }, [newsId, data]);\r\n\r\n  const newCommentInput = useRef();\r\n\r\n  function onClickHandler() {\r\n    if (newCommentInput.current.value !== \"\") {\r\n      CommentService.create({\r\n        content: newCommentInput.current.value,\r\n        newsId: parseInt(newsId),\r\n      })\r\n        .then(() => {\r\n          setIsLoading(true);\r\n          setData(null);\r\n        })\r\n        .catch((error) => {\r\n          setError(`Error ${error.status} ${error.statusText}`);\r\n        })\r\n        .finally(() => setIsLoading(false));\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"container mt-3\">\r\n      {isLoading && <Loader />}\r\n      {error && <div>{error}</div>}\r\n      {data && (\r\n        <section className=\"is-large\">\r\n          {data.map((comment) => (\r\n            <article className=\"media\" key={comment.id}>\r\n              <figure className=\"media-left\">\r\n                <p className=\"image is-64x64\">\r\n                  <img src=\"https://via.placeholder.com/128x128\" alt=\"author\" />\r\n                </p>\r\n              </figure>\r\n              <div className=\"media-content\">\r\n                <div className=\"content\">\r\n                  <p>\r\n                    <strong>{comment.author}</strong>\r\n                    <br />\r\n                    {comment.content}\r\n                    <br />\r\n                  </p>\r\n                </div>\r\n              </div>\r\n            </article>\r\n          ))}\r\n\r\n          <article className=\"media\">\r\n            <figure className=\"media-left\">\r\n              <p className=\"image is-64x64\">\r\n                <img src=\"https://via.placeholder.com//128x128\" alt=\"user\" />\r\n              </p>\r\n            </figure>\r\n            <div className=\"media-content\">\r\n              <div className=\"field\">\r\n                <p className=\"control\">\r\n                  <textarea\r\n                    className=\"textarea\"\r\n                    placeholder=\"Add a comment...\"\r\n                    ref={newCommentInput}\r\n                  ></textarea>\r\n                </p>\r\n              </div>\r\n              <div className=\"field\">\r\n                <p className=\"control\">\r\n                  <button className=\"button\" onClick={onClickHandler}>\r\n                    Post comment\r\n                  </button>\r\n                </p>\r\n              </div>\r\n            </div>\r\n          </article>\r\n        </section>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport Loader from \"components/loader\";\r\nimport NewsService from \"services/news/index\";\r\nimport CommentsList from \"components/comments-list\";\r\nimport draftToHtml from \"draftjs-to-html\";\r\n\r\nexport default function SingleNews() {\r\n  let { id } = useParams();\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [data, setData] = useState(null);\r\n  const [error, setError] = useState(null);\r\n  const [content, setContent] = useState();\r\n\r\n  useEffect(() => {\r\n    if (data === null) {\r\n      NewsService.getById(id)\r\n        .then((response) => {\r\n          setData(response);\r\n\r\n          if (response.content) {\r\n            const parserContent = draftToHtml(JSON.parse(response.content));\r\n            setContent(parserContent);\r\n          }\r\n        })\r\n        .catch((error) => {\r\n          setError(`Error ${error.status} ${error.statusText}`);\r\n        })\r\n        .finally(() => setIsLoading(false));\r\n    }\r\n  }, [id, data]);\r\n\r\n  return (\r\n    <div className=\"container mt-3\">\r\n      {isLoading && <Loader />}\r\n      {error && <div>{error}</div>}\r\n      {data && (\r\n        <>\r\n          <section className=\"is-large\">\r\n            <h4 className=\"title\">{data.title}</h4>\r\n            <h5 className=\"subtitle\">{data.subtitle}</h5>\r\n            <div className=\"content\">\r\n              <p>Author: {data.authorName}</p>\r\n            </div>\r\n            <div className=\"columns is-multiline is-mobile\">\r\n              {content && (\r\n                <div\r\n                  className=\"column\"\r\n                  dangerouslySetInnerHTML={{\r\n                    __html: content,\r\n                  }}\r\n                />\r\n              )}\r\n\r\n              {data.img && (\r\n                <div className=\"column is-one-quarter\">\r\n                  <figure className=\"image is-128x128\">\r\n                    <img src={data.img} alt={data.title} />\r\n                  </figure>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </section>\r\n\r\n          <CommentsList newsId={id} />\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import { BASE_URL, STORAGE_TOKEN_KEY } from \"utils/constants\";\r\n\r\nclass DictionaryService {\r\n  getAll() {\r\n    return new Promise((resolve, reject) => {\r\n      fetch(`${BASE_URL}/api/dictionary/getAll`)\r\n        .then(async (response) => {\r\n          if (response.status !== 200) {\r\n            reject(response);\r\n          } else {\r\n            resolve(await response.json());\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          reject(err);\r\n        });\r\n    });\r\n  }\r\n  create(payload) {\r\n    return new Promise((resolve, reject) => {\r\n      fetch(`${BASE_URL}/api/dictionary/create`, {\r\n        method: \"post\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          \"x-access-token\": localStorage.getItem(STORAGE_TOKEN_KEY),\r\n        },\r\n        body: JSON.stringify(payload),\r\n      })\r\n        .then((response) => {\r\n          if (response.status === 200) {\r\n            resolve();\r\n          } else {\r\n            reject(response.message);\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          reject(err.message);\r\n        });\r\n    });\r\n  }\r\n\r\n  update(payload) {\r\n    return new Promise((resolve, reject) => {\r\n      fetch(`${BASE_URL}/api/dictionary/edit`, {\r\n        method: \"put\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          \"x-access-token\": localStorage.getItem(STORAGE_TOKEN_KEY),\r\n        },\r\n        body: JSON.stringify(payload),\r\n      })\r\n        .then((response) => {\r\n          if (response.status === 200) {\r\n            resolve();\r\n          } else {\r\n            reject(response.message);\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          reject(err.message);\r\n        });\r\n    });\r\n  }\r\n\r\n  delete(id) {\r\n    return new Promise((resolve, reject) => {\r\n      fetch(`${BASE_URL}/api/dictionary/delete/${id}`, {\r\n        method: \"delete\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          \"x-access-token\": localStorage.getItem(STORAGE_TOKEN_KEY),\r\n        },\r\n      })\r\n        .then(async (response) => {\r\n          if (response.status !== 200) {\r\n            reject(response);\r\n          } else {\r\n            resolve(await response.json());\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          reject(err);\r\n        });\r\n    });\r\n  }\r\n}\r\n\r\nexport default new DictionaryService();\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nconst modalRoot = document.getElementById(\"modal-root\");\r\n\r\nclass Modal extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.el = document.createElement(\"div\");\r\n  }\r\n\r\n  componentDidMount() {\r\n    modalRoot.appendChild(this.el);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    modalRoot.removeChild(this.el);\r\n  }\r\n\r\n  render() {\r\n    return ReactDOM.createPortal(\r\n      <div className=\"modal is-active\">\r\n        <div className=\"modal-background\"></div>\r\n        <div className=\"modal-card\">\r\n          <header className=\"modal-card-head\">\r\n            <p className=\"modal-card-title\">{this.props.title}</p>\r\n            <button\r\n              className=\"delete\"\r\n              aria-label=\"close\"\r\n              onClick={this.props.onClose}\r\n            ></button>\r\n          </header>\r\n          <section className=\"modal-card-body\">{this.props.children}</section>\r\n          <footer className=\"modal-card-foot\">\r\n            <button className=\"button is-success\" onClick={this.props.onSave}>\r\n              Save changes\r\n            </button>\r\n            <button className=\"button\" onClick={this.props.onClose}>\r\n              Cancel\r\n            </button>\r\n          </footer>\r\n        </div>\r\n      </div>,\r\n      this.el\r\n    );\r\n  }\r\n}\r\n\r\nexport default Modal;\r\n","import React, { useContext, useEffect, useState, useCallback } from \"react\";\r\nimport DictionaryService from \"services/dictionary\";\r\nimport Loader from \"components/loader\";\r\nimport \"./styles.scss\";\r\nimport { StoreContext } from \"context\";\r\nimport Modal from \"components/modal\";\r\n\r\nexport default function AdminDictionariesList() {\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const { setStoreData } = useContext(StoreContext);\r\n  const [collection, setCollection] = useState(null);\r\n  const [modalData, setModalData] = useState(null);\r\n\r\n  const getDictionaries = useCallback(() => {\r\n    DictionaryService.getAll()\r\n      .then((response) => {\r\n        setCollection(response);\r\n        setStoreData((prevData) => ({\r\n          ...prevData,\r\n          dictionaryData: response.reduce((dictObject, dictionary) => {\r\n            if (dictObject[dictionary.type]) {\r\n              dictObject[dictionary.type].push(dictionary);\r\n            } else {\r\n              dictObject[dictionary.type] = [dictionary];\r\n            }\r\n            return dictObject;\r\n          }, {}),\r\n        }));\r\n      })\r\n      .finally(() => setIsLoading(false));\r\n  }, [setStoreData]);\r\n\r\n  useEffect(() => {\r\n    if (collection === null) {\r\n      setIsLoading(true);\r\n      DictionaryService.getAll()\r\n        .then((response) => {\r\n          setCollection(response);\r\n        })\r\n        .catch((error) => {\r\n          setError(`Error ${error.status} ${error.statusText}`);\r\n        })\r\n        .finally(() => setIsLoading(false));\r\n    }\r\n  }, [collection]);\r\n\r\n  function onClickDeleteHandler(id) {\r\n    setIsLoading(true);\r\n    DictionaryService.delete(id)\r\n      .then(() => {\r\n        getDictionaries();\r\n      })\r\n      .catch((error) => {\r\n        setError(`Error ${error.status} ${error.statusText}`);\r\n      });\r\n  }\r\n\r\n  function postDictionaryData() {\r\n    setIsLoading(true);\r\n    const request = modalData.id\r\n      ? DictionaryService.update\r\n      : DictionaryService.create;\r\n\r\n    request(modalData)\r\n      .then(() => {\r\n        getDictionaries();\r\n        setModalData(null);\r\n      })\r\n      .catch((error) => {\r\n        setError(`Error ${error?.generatedMessage ?? \"\"} ${error?.code ?? \"\"}`);\r\n      })\r\n      .finally(() => setIsLoading(false));\r\n  }\r\n\r\n  return (\r\n    <div className=\"container mt-3\">\r\n      <div>\r\n        <div className=\"container\">\r\n          <h1 className=\"title\">Dictionary list</h1>\r\n          <button\r\n            className=\"button dictionary-list__add-btn\"\r\n            onClick={() => setModalData({})}\r\n          >\r\n            Add article\r\n            <i className=\"fas fa-plus\"></i>\r\n          </button>\r\n          {isLoading && <Loader />}\r\n          {error && !isLoading && <div>{error}</div>}\r\n          {collection && !isLoading && (\r\n            <div className=\"dictionary-list\">\r\n              {collection.map((dictionary) => (\r\n                <div className=\"dictionary-list__row\" key={dictionary.id}>\r\n                  <div className=\"dictionary-list__row-text\">\r\n                    {dictionary.name}\r\n                  </div>\r\n                  <div className=\"dictionary-list__row-text\">\r\n                    {dictionary.type}\r\n                  </div>\r\n\r\n                  <div\r\n                    className=\"dictionary-list__table-btn\"\r\n                    onClick={() =>\r\n                      setModalData({\r\n                        id: dictionary.id,\r\n                        name: dictionary.name,\r\n                        type: dictionary.type,\r\n                      })\r\n                    }\r\n                  >\r\n                    <i className=\"fas fa-edit\"></i>\r\n                  </div>\r\n                  <div\r\n                    className=\"dictionary-list__table-btn\"\r\n                    onClick={() => onClickDeleteHandler(dictionary.id)}\r\n                  >\r\n                    <i className=\"fas fa-trash\"></i>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n      {modalData !== null && (\r\n        <Modal\r\n          title=\"Dictionary form\"\r\n          onClose={() => setModalData(null)}\r\n          onSave={postDictionaryData}\r\n        >\r\n          <div>\r\n            <div className=\"field\">\r\n              <label className=\"label\">Name</label>\r\n              <div className=\"control\">\r\n                <input\r\n                  className=\"input\"\r\n                  type=\"text\"\r\n                  value={modalData.name}\r\n                  onChange={(event) =>\r\n                    setModalData({ ...modalData, name: event.target.value })\r\n                  }\r\n                />\r\n              </div>\r\n            </div>\r\n            <div className=\"field\">\r\n              <label className=\"label\">Category</label>\r\n              <div className=\"control\">\r\n                <input\r\n                  className=\"input\"\r\n                  type=\"text\"\r\n                  value={modalData.type}\r\n                  onChange={(event) =>\r\n                    setModalData({ ...modalData, type: event.target.value })\r\n                  }\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </Modal>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import React, { useEffect, useState } from \"react\";\nimport { BrowserRouter, Switch, Route } from \"react-router-dom\";\nimport Header from \"components/header\";\nimport Home from \"view/home\";\nimport AdminDashboard from \"view/admin-dashboard\";\nimport \"./styles.scss\";\nimport AdminMenuWrapper from \"components/admin-menu-wrapper\";\nimport LogIn from \"view/log-in\";\nimport { StoreContext } from \"context\";\nimport { ROLE_ADMIN } from \"utils/constants\";\nimport AdminNewsList from \"view/admin-news-list\";\nimport AdminEditNews from \"view/admin-edit-news\";\nimport AdminAddNews from \"view/admin-add-news\";\nimport NewsList from \"view/news-list\";\nimport SingleNews from \"view/single-news\";\nimport DictionaryService from \"services/dictionary/index\";\nimport AdminDictionariesList from \"view/admin-dictionary-list\";\n\nexport default function App() {\n  const [isLoading, setIsLoading] = useState(true);\n  const [storeData, setStoreData] = useState({\n    userData: null,\n    dictionaryData: null,\n  });\n\n  useEffect(() => {\n    if (isLoading === true) {\n      DictionaryService.getAll()\n        .then((response) => {\n          setStoreData((prevData) => ({\n            ...prevData,\n            dictionaryData: response.reduce((dictObject, dictionary) => {\n              if (dictObject[dictionary.type]) {\n                dictObject[dictionary.type].push(dictionary);\n              } else {\n                dictObject[dictionary.type] = [dictionary];\n              }\n              return dictObject;\n            }, {}),\n          }));\n        })\n        .finally(() => setIsLoading(false));\n    }\n  }, [isLoading]);\n\n  return (\n    <StoreContext.Provider value={{ storeData, setStoreData }}>\n      <BrowserRouter>\n        <Header />\n        <Switch>\n          <Route path=\"/\" exact={true}>\n            <Home />\n          </Route>\n          <Route path=\"/news-list/:categoryId?\">\n            <NewsList />\n          </Route>\n          <Route path={`/news/:id`}>\n            <SingleNews />\n          </Route>\n\n          {storeData.userData &&\n          storeData.userData.roles.includes(ROLE_ADMIN) ? (\n            <>\n              <Route path={\"/admin/dashboard\"}>\n                <AdminMenuWrapper>\n                  <AdminDashboard />\n                </AdminMenuWrapper>\n              </Route>\n              <Route path={\"/admin/news-list/:categoryId?\"}>\n                <AdminMenuWrapper>\n                  <AdminNewsList />\n                </AdminMenuWrapper>\n              </Route>\n              <Route path={\"/admin/add-news\"}>\n                <AdminMenuWrapper>\n                  <AdminAddNews />\n                </AdminMenuWrapper>\n              </Route>\n              <Route path={\"/admin/edit-news/:id\"}>\n                <AdminMenuWrapper>\n                  <AdminEditNews />\n                </AdminMenuWrapper>\n              </Route>\n              <Route path={\"/admin/dictionary-list\"}>\n                <AdminMenuWrapper>\n                  <AdminDictionariesList />\n                </AdminMenuWrapper>\n              </Route>\n            </>\n          ) : (\n            <>\n              <Route path=\"/log-in\">\n                <LogIn />\n              </Route>\n            </>\n          )}\n        </Switch>\n      </BrowserRouter>\n    </StoreContext.Provider>\n  );\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}